# Автоматическое определиние папок расширений 
Расширение для [infrajs/path](https://github.com/infrajs/path)
В параметр ```config.path.search``` добавляются все пути, по которым есть файл .infra.json.

## Использование
Расширение устанавливается автоматически как зависимость [infrajs/router](https://github.com/infrajs/router)
никаких настроек не требуется.

Файлы всех установленных расширений с конфигурационным файлом .infra.json будут доступны по короткому адресу **-extname/file.ext**, где **-** скрывает часть адреса, варианты которого и подготавливает данное расширение.

## При самостоятельном использовании
Для тех кто знает что делает... 
```php
\infrajs\config\Search::init(); //Наполнит Path::$conf['search'] новыми путями
```

## Описание
Путь для поиска файлов c **-** по умолчанию указан только один vendor/infrajs/ и его достаточно чтобы собрать все нужные зависимости. 

Определённые пути [кэшируются](https://github.com/infrajs/cache), кэш привязан к дате изменения файла **composer.lock**

Принцип работы - пробежаться по всем папкам проекта и все папки папок с файлами .infra.json добавить в config.path.search.

- .infra.json - корень, уже итак обработан, игнорируется
- dir/.infra.json - нет явного производителя, игнорируется
- dir1/dir2/.infra.json - в search будет добавлен путь **dir1/** и будет работать путь "-dir2/file.ext"
- dir1/dir2/dir3/.infra.json - в search будет добавлен путь **dir1/dir2/**  и будет работать путь "-dir3/file.ext"

Найденные пути добавляются в конец config.path.search.

Есть папки которые содержат файлы, подключаемые по короткому адресу, но не содержащих .infra.json
- vendor/components/,
- vendor/twbs/,
- bower_components/
Если они требуются нужно указывать вручную в корне проекта .infra.json

```json
{
	"path":{
		"search":[
			"vendor/components/",
			"vendor/twbs/",
			"bower_components/"
		]
	}
}
```

## Отключить установленное расширение
Без этого расширения все пути нужно врунчну перечислить в корневом .infra.json.
Отключить использование этого расширения если оно уже установлено можно параметром **off** в корневом .infra.json
```json
{
	"config-search":{
		"off":true
	}
}
```
